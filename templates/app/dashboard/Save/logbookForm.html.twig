<div class="accordion p-2 {{ loop.first ? 'mt-4' }}" id="theme-{{ theme.id }}">
    <div class="accordion-item">
        <h2 class="accordion-header" id="moduleAndTheme">
            <button class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse-theme-{{ theme.id }}"
                    aria-expanded="false"
                    aria-controls="collapse-theme-{{ theme.id }}">
                {{ theme.title }}
                <span class="badge bg-primary rounded-pill ms-3">{{ theme.modules|length }}</span>
            </button>
        </h2>

        <div id="collapse-theme-{{ theme.id }}"
             class="accordion-collapse collapse"
             aria-labelledby="moduleAndTheme"
             data-bs-parent="#theme-{{ theme.id }}">
            <div class="accordion-body">
                {% for module in theme.modules %}
                    <ul class="list-group mt-2">
                        <li id="module-{{ module.id }}" class="list-group-item" data-bs-mainTheme="{{ module.theme.id }}">
                            {{ loop.index }} - {{ module.title }}

                            <a class="btn btn-sm btn-primary" href="{{ path('action_edit', { 'id': module.id }) }}">
                                <i class="bi bi-pencil-square"></i>
                                Remplir
                            </a>
                        </li>
                    </ul>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
